<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="OpenLayers Demo">
    <link rel="shortcut icon" sizes="196x196" href="icon.png"> 
    <title>OpenLayers Demo</title>
	<script src="http://people.rit.edu/yxs9493/api/jquery-1.11.0.min.js"></script>
    <script src="http://www.ist.rit.edu/~jxs/classes/2014_Spring/Mobile/OpenLayers-2.13.1/OpenLayers.js" type="text/javascript"></script>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
    <script type="text/javascript">
		var openStreet = new Object();
		openStreet.map = null;
    
      function init() {
        openStreet.map                = new OpenLayers.Map( "basicMap" );
        var mapnik         = new OpenLayers.Layer.OSM();
        var fromProjection = new OpenLayers.Projection( "EPSG:4326" );   // Transform from WGS 1984
        var toProjection   = new OpenLayers.Projection( "EPSG:900913" ); // to Spherical Mercator Projection
        var position       = new OpenLayers.LonLat( -77.68,43.08 ).transform( fromProjection, toProjection );
        /* var position       = new OpenLayers.LonLat( 13.41,52.52 ).transform( fromProjection, toProjection ); */
        var zoom           = 15; 
        openStreet.map.addLayer( mapnik );
        openStreet.map.setCenter( position, zoom );
      }
    </script>
  </head>
  <body onload="init();">
    <header>
		<input type="button" value="Food" onclick="showMarker()" />
		<input type="button" value="Shopping" onclick="" />
		<input type="button" value="Gas Station" onclick="" />
		<input type="button" value="Car rental" onclick="" />
		<input type="button" value="Housing" onclick="" />
		<input type="button" value="Entertainment" onclick="" />
		<input type="button" value="Reset" onclick="" />
		<img id="toggle" src="leftarrow.png" width="35" height="50">
    </header>
    <div id="basicMap"></div>
    <script type="text/javascript">
		var useAddr = null;

		//create marker icon
		var size = new OpenLayers.Size(21,25);
		var offset = new OpenLayers.Pixel(-(size.w/2), -size.h);	
		var icon = new OpenLayers.Icon('http://www.openlayers.org/dev/img/marker.png', size, offset);
	
		/**	track which user is using and display it.
		*/
		$(document).ready(function(){
			
			
			$('#toggle').on('click',function(){
				var panel = $(this).parent();
				panel.animate({
					left: parseInt(panel.css('left')) == -panel.outerWidth() ? 0 : -panel.outerWidth()
				});
			});
			
		});
	
		
		
		function showSidebar(){
		
		}
		
		function hideSidebar(){
		
		}
		
		function showMarker(){
		var fromProjection = new OpenLayers.Projection( "EPSG:4326" );   // Transform from WGS 1984
        var toProjection   = new OpenLayers.Projection( "EPSG:900913" ); // to Spherical Mercator Projection
		
		var markerLayer = new OpenLayers.Layer.Markers("Markers");
		
		
		var myLong = -77.68;
		var myLat = 43.08;
		var lonlat = new OpenLayers.LonLat(myLong, myLat).transform(fromProjection, toProjection);
		markerLayer.addMarker(new OpenLayers.Marker(lonlat, icon));
		
		
		openStreet.map.addLayer(markerLayer);
		
		}
		
        
		
                
		function clearMap(){
			//openStreet.map.markerLayer.clearMarkers();
			var arr = openStreet.map.markerLayer.markers;
			for(var i=0; i < arr.length; i++){
				arr[i].destroy();
			}
			//openStreet.map.markerLayer.clearMarkers();
		}
    </script>
	<link rel="stylesheet" type="text/css" href="style.css">
  </body>
</html>
